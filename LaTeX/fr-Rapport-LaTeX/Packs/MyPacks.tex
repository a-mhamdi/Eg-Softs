\documentclass[a4paper, 11pt, twoside, openright]{book}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[english, frenchb]{babel}
\usepackage[cyr]{aeguill}
\usepackage{charter}

\usepackage[top=1.1in, bottom=0.95in, outer=5cm, inner=2cm, heightrounded, marginparwidth=2.5cm, marginparsep=2cm]{geometry}

\usepackage[Sonny]{fncychap} % Sonny Lenny Glenn Conny Rejne Bjarne Bjornstrup

\ChTitleVar{\Huge\bfseries}
\ChNameVar{\large\bfseries}
\ChNumVar{\fontsize{60}{62}\bfseries}

\usepackage{fancyhdr}
\pagestyle{fancy}

\fancyhead{}
\fancyfoot{}

\fancyhead[LE, RO]{\bfseries\thepage}

\fancyhead[RE]{\bfseries\nouppercase{\leftmark}}
\fancyhead[LO]{\bfseries\nouppercase{\rightmark}}

\let\headruleORIG\headrule
\renewcommand{\headrule}{\color{black} \headruleORIG}

\setlength{\headheight}{15pt}

\makeatletter
\if@twoside % commands below work only for twoside option of \documentclass
    \newlength{\textblockoffset}
    \setlength{\textblockoffset}{12mm}
    \addtolength{\hoffset}{\textblockoffset}
    \addtolength{\evensidemargin}{-2.0\textblockoffset}
\fi
\makeatother

\renewcommand{\baselinestretch}{1.1}

\usepackage{pifont}
\usepackage{dsfont}
\usepackage{shorttoc}
\usepackage{eqparbox}
\usepackage{sidecap}

\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{nicefrac}

\usepackage{supertabular}
\usepackage{tabularx}
\usepackage{tabulary}
\usepackage{setspace}
\usepackage[dvips]{graphicx}
\usepackage{epsfig}
\usepackage{float}
\usepackage{psfrag}
\usepackage{epstopdf}
\usepackage{adforn}
\usepackage{array}
\usepackage{pifont}
\usepackage{textcomp}
\usepackage{multirow}

\usepackage{multirow}
\usepackage[boxed]{algorithm}
\usepackage{algorithmic}
\usepackage{rotating}
\usepackage{floatpag}

\usepackage{booktabs}
\newcommand{\ra}[1]{\renewcommand{\arraystretch}{#1}}

\usepackage{caption}
\usepackage{subcaption}
\usepackage[section, above, below]{placeins}

\renewcommand{\figurename}{Fig.}
\renewcommand{\tablename}{Tab.}

\usepackage{xcolor}
\usepackage{esint}

\usepackage{multicol}

\usepackage[nottoc, notlof, notlot]{tocbibind}
\usepackage[french, tight]{minitoc}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\mtcindent}{0pt}
\mtcsetformat{minitoc}{tocrightmargin}{2.55em plus 1fil}
\newcommand{\multicolumnmtc}{2}
\makeatletter
\let\SV@mtc@verse\mtc@verse
\let\SV@endmtc@verse\endmtc@verse
\def\mtc@verse#1{\SV@mtc@verse#1\removelastskip%
\begin{multicols}{\multicolumnmtc}\raggedcolumns\leavevmode\unskip
\vskip -1.5ex \vskip -1\baselineskip}
\def\endmtc@verse{\end{multicols}\SV@endmtc@verse}
\makeatother
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{tikz}
\usetikzlibrary{shapes,arrows}

%%% MatLab Figures Gen
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\pgfplotsset{plot coordinates/math parser=false}
\usetikzlibrary{plotmarks}
%%%%%
\newcommand{\Int}[4]{\draw[fill=white](#1, #2)rectangle(#3, #4);}

\usepackage{pgfplots}
\pgfplotsset{
    dirac/.style={
        mark=triangle*,
        mark options={scale=2},
        ycomb,
        scatter,
        visualization depends on={y/abs(y)-1 \as \sign},
        scatter/@pre marker code/.code={\scope[rotate=90*\sign,yshift=-2pt]}
    }
}

% --------------------- Thm, Rema, Exmp, Dem ---------------------
\theoremstyle{plain}
\newtheorem{THM}{Theorem}[section]
\newtheorem{Lem}[THM]{Lemma}
\newtheorem{Prop}[THM]{Proposition}
\newtheorem{Not}[THM]{Notation}
% \newtheorem*{Cor}[Thm]{Corollaire}

\theoremstyle{definition}
\newtheorem{DEF}{Definition}[section]
\newtheorem{Conj}{Conjecture}[section]
\newtheorem{EXMP}{Example}[section]

\theoremstyle{remark}
\newtheorem{Rema}{Remark}[section]% \newtheorem{Rema}[Thm]{Remarque}
\newtheorem*{Note}{Note}
\newtheorem{Case}{Case}

\usepackage{pagecolor}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage{hf-tikz}
\usetikzlibrary{calc}

% --------------------- Thm Def Exmp ---------------------
\input{Packs/MyTheo}

% \input{Packs/MyLema}% Empty
% \input{Packs/MyNota}% Empty
% \input{Packs/MyRema}% Empty

\input{Packs/MyDef}
\input{Packs/MyExmp}
\input{Packs/MyDem}

\input{Packs/MyQuot}

\usepackage{shapepar}
\usepackage{fancyvrb}
\usepackage{spot}
\usepackage{ifsym}
\usepackage{fancypar}
\usepackage{fancytabs}
\fancytabsHeight{5.25cm}
\definecolor{TestFonce}{cmyk}{1,1,1,0}
\definecolor{TestClair}{cmyk}{0.1,0.1,0.1,0}
\usepackage{textpos}
\usepackage{tikz-3dplot}
\usepackage[american]{circuitikz}
\usepackage{pgf}
\usepackage{tikz}
\usetikzlibrary{patterns}
\usetikzlibrary{shapes.geometric}

\usetikzlibrary{decorations.markings}
\usetikzlibrary{arrows}
\usetikzlibrary{fit}

\usepackage{textcomp}
\usetikzlibrary{babel}
\usepackage{schemabloc}
\usepackage{lettrine}

\usepackage{afterpage}

\newcommand\blankpage{
            \null
            \thispagestyle{empty}
            \addtocounter{page}{-1}
            \clearpage}

\usepackage[unicode=true, bookmarks=true, bookmarksnumbered=true, bookmarksopen=true, bookmarksopenlevel=1, breaklinks=true, pdfborder={0 0 0}, backref=true, colorlinks=true]{hyperref}

\definecolor{LinkCol}{rgb}{0,0,0.5}
\definecolor{CiteCol}{rgb}{0.5,0,0.1}

\usepackage{colortbl}
\arrayrulecolor{black}

\renewcommand{\headrulewidth}{\iffloatpage{0pt}{1.0pt}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Clear Header Style on the Last Empty Odd pages
\makeatletter

\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else%
  \hbox{}%
  \thispagestyle{empty}%              % Empty header styles
  \newpage%
  \if@twocolumn\hbox{}\newpage\fi\fi\fi}

\makeatother
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\usepackage{ifpdf}
%\ifpdf

\usepackage[toc,page]{appendix}
\renewcommand{\appendixpagename}{Annexes}
\renewcommand{\appendixtocname}{\numberline{}Annexes}

\usepackage{csquotes}

\usepackage[hyperref=true,
            url=false,
            isbn=false,
            backref=true,
            style=alphabetic,
            citereset=chapter,
            maxbibnames=3,
            defernumbers=true,
            firstinits=true,
            block=none,
            sortcites,
            backend=bibtex]{biblatex}

\addbibresource{Biblio/MyBibLaTeX.bib}

\DefineBibliographyStrings{french}{
    in           = {dans},
    inseries     = {dans},
    pages        = {pp\adddot},
    backrefpage  = {Cit\'e en p.}, % for single page number
    backrefpages = {Cit\'e en pp.} % for multiple page numbers
}

\usepackage{verbatim}

\usepackage{enumitem}

\newcommand*\circled[1]{\tikz[baseline=(char.base)]{%
            \node[shape=circle,fill=white,draw,inner sep=2pt] (char) {#1};}}

\usepackage{microtype}

\newenvironment{Abstract}%
{\null\vfill\begin{center}%
\bfseries\abstractname\end{center}}%
{\vfill\null}

\usepackage[savewrites, style=long]{glossaries}

\makeglossaries

\setacronymstyle{long-sc-short}
\input{MyGlossary.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{lipsum}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
